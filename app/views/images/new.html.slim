h1 Suggest an image

- if can? :create, Image
  p Have a Steven Universe picture you love? Share it with fellow fans!

  = form_for @image, html: { class: 'js-upload' } do |f|
    = render partial: 'layouts/errors', locals: { model: @image }

    img.js-upload__preview.image-preview.hidden

    .js-upload__file
      h3 Link an image page or a blog post
      = text_field_tag :fetch_image, '', class: 'input input--wide js-upload__url', placeholder: 'http://artist.tumblr.com/post/1'
      a.button.button--inline.js-upload__fetch data-disable-with="Loading…" Fetch
      h3 Alternatively, upload a file from your computer
      p You'll need to specify some things manually.
      = render partial: 'layouts/image_upload', locals: { form: f, field: :image }

    .js-upload__meta.hidden
      h2 Tag the image
      p Help people find images they like by describing this picture in tags.

      p#content-safety
        ' Start off with content rating:
        em is this image safe for minors?
        a.button.button--inline.button--secondary< data-tag="safe" data-click-hide="#content-safety" data-click-show="#artist-tag" Yes
        a.button.button--inline.button--secondary< data-tag="nsfw" data-click-hide="#content-safety" data-click-show="#artist-tag" data-click-toggle="#nsfw-content" No
      p#nsfw-content.hidden
        strong
          ' Please note that the site administration retains the right to remove any adult content deemed obscene.
          ' This includes, but is not limited to, depictions of underage or non-consensual sexual themes,
          | gruesome or disgusting imagery, promotion of intolerance and hatred.
      p#artist-tag.hidden
        ' Ensure that you include the name of the artist using an
        em> artist:artist name here
        ' tag.

      = f.text_area :tags, class: 'input input--wide', placeholder: 'safe, pearl, smiling'

      h2 Credit the artist
      p
        ' Provide a link to the page you've found this image on.
        | We show it alongside images to give artists credit for their hard work.

      = f.text_field :source, class: 'input input--wide', placeholder: 'http://blog.tumblr.com/post/1'

      br
      = f.submit class: 'button'

- else
  p
    ' You need an account to suggest images — you can create one
    a href=new_user_registration_path here
    | .
